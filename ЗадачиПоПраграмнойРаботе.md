1. [Программна работа с документами, ПВХ](#2)
	+ [Работа с документами](#1-1)
        + [Найти заказ поставщику по номеру](#1-1-1)
        + [Создать заказ поставщик](#1-1-2)
        + [Изменить заказ поставщику](#1-1-3)
        + [Удалить товар из заказа](#1-1-4)
        + [Отменить проведение документа](#1-1-5)
        + [Провести документы за месяц](#1-1-6)
        + [Создать поступление на основании заказа](#1-1-7)
        + [Определить сумму заказа](#1-1-8)
        + [Добавить товар в заказ поставщику](#1-1-9)
        + [Определить сумму заказа](#1-1-10)
    
    + [Программная работа с ПВХ](#1-2)
        + [Заполнить доп. реквизит номенклатуры](#1-2-1)
        + [Получить значение доп. реквизита](#1-2-2)
        + [Все доп. реквизиты номенклатуры](#1-2-3)   



# 1 
# Программна работа с документами, ПВХ, планами счетов и планами видов расчета.
!
# 1-1
# Работа с документами
 # 1-1-1 
 
# Найти заказ поставщику по номеру
```
// Найдите заказ поставщику с номером "00000000180" и сообщите его дату, а также наименование поставщика.
// Если документа с таким номером нет в базе, нужно сообщить об этом пользователю.

ЗаказСсылка = Документы.ЗаказКлиента.НайтиПоНомеру("00000000180");

Если Не ЗаказСсылка.Пустая() Тогда
	ЗаказОбъект = ЗаказСсылка.ПолучитьОбъект();
	Дата = ЗаказОбъект.Дата;
	НаименованиеПоставщика = ЗаказОбъект.Контрагент;
	Текст = СтрШаблон("Дата заказа: %1, Поставщик : %2", Дата, НаименованиеПоставщика);
Иначе 
	Текст = "Заказ не найден";
КонецЕсли;

Сообщение = Новый СообщениеПользователю;
Сообщение.Текст = Текст;
Сообщение.Сообщить();
```

# 1-1-2
# Создать заказ поставщику
```
// Создайте документ "Заказ поставщику", заполнив его следующими данными:
// Дата: <текущая дата>
// Организация: Айрон Электроникс
// Валюта: RUB
// Контрагент: АктивТрейд, ООО
// Договор: № 1 от 05.08.2023
// Дата поступления: +7 дней от <текущая дата>
//
// **Товары**:
// 1. "Беззеркальный фотоаппарат Nikon Z5 Body", кол-во 5 шт., цена 35 000
// 2. "Зеркальный фотоаппарат Canon EOS 6D Mark II Body", кол-во 3 шт., цена 41 000
// Единицу измерения и ставку НДС в строках табличной части нужно заполнить значениями одноименных реквизитов номенклатуры
// Цена товара указана без НДС.

// Проведите документ и сообщите пользователю номер документа и его итоговую сумму

ДокОбъект = Документы.ЗаказПоставщику.СоздатьДокумент();

ДокОбъект.Дата = ТекущаяДата();
ДокОбъект.Организация = Справочники.Организации.ОсновнаяОрганизация;
ДокОбъект.Валюта  = Справочники.Валюты.НайтиПоКоду("643");
ДокОбъект.Контрагент = Справочники.Контрагенты.НайтиПоКоду("000000025");
ДокОбъект.Договор = Справочники.ДоговорыКонтрагентов.НайтиПоКоду("000000015");
ДокОбъект.ДатаПоступления = ТекущаяДата() + 7 *86400;

СтрокаТаблицы = ДокОбъект.Товары.Добавить();

СтрокаТаблицы.Номенклатура = Справочники.Номенклатура.НайтиПоНаименованию("Беззеркальный фотоаппарат Nikon Z5 Body") ;
СтрокаТаблицы.Количество = 5;
СтрокаТаблицы.Цена = 35000;
СтрокаТаблицы.СтавкаНДС = Справочники.СтавкиНДС.НДС20;
СтрокаТаблицы.ЕдиницаИзмерения = Справочники.КлассификаторЕдиницИзмерения.шт;

СтрокаТаблицы = ДокОбъект.Товары.Добавить();
СтрокаТаблицы.Номенклатура =Справочники.Номенклатура.НайтиПоНаименованию("Зеркальный фотоаппарат Canon EOS 6D Mark II Body") ;
СтрокаТаблицы.Количество = 3;
СтрокаТаблицы.Цена = 41000;
СтрокаТаблицы.СтавкаНДС = Справочники.СтавкиНДС.НДС20;
СтрокаТаблицы.ЕдиницаИзмерения = Справочники.КлассификаторЕдиницИзмерения.шт;

ДокОбъект.Записать();
```

# 1-1-3.
#  Изменить заказ поставщику
```
// В заказе с номером "00000000185" нужно уменьшить цены всех товаров на 20% и пересчитать суммы.
// После изменения заказа нужно сообщить: 
// - итоговую сумму заказа ДО изменения цен
// - итоговую сумму заказа ПОСЛЕ изменения цен
// - сумму скидки (разницу между суммой заказа до и после изменения цен)
// Если документа с таким номером нет в базе, нужно сообщить об этом пользователю.
//
ЗаказСслыка = Документы.ЗаказПоставщику.НайтиПоНомеру("00000000185", '20231006');
Если НЕ ЗаказСслыка.Пустая() Тогда
	
	ЗаказОбъект = ЗаказСслыка.ПолучитьОбъект();
	СуммаВсегоПосле = 0;
	СуммаВсегоДО = 0;
	
	Для Каждого СтрокаТаблицы ИЗ ЗаказОбъект.Товары Цикл
		
		СуммаВсегоДО = СтрокаТаблицы.СуммаВсего + СуммаВсегоДО;
		
		СтавкаНДС = СтрокаТаблицы.СтавкаНДС;
		СтрокаТаблицы.Цена = СтрокаТаблицы.Цена - СтрокаТаблицы.Цена * 0.2;
		СтрокаТаблицы.Сумма = СтрокаТаблицы.Количество * СтрокаТаблицы.Цена;
		СтрокаТаблицы.СуммаНДС = СтрокаТаблицы.Сумма * СтрокаТаблицы.СтавкаНДС.Ставка / 100;
		СтрокаТаблицы.СуммаВсего = СтрокаТаблицы.Сумма + СтрокаТаблицы.СуммаНДС;
		СуммаВсегоПосле = СтрокаТаблицы.СуммаВсего + СуммаВсегоПосле; 
	
	КонецЦикла;
	
	Скидка = СуммаВсегоДО - СуммаВсегоПосле;
	ЗаказОбъект.Записать(РежимЗаписиДокумента.Проведение);
	
	Текст = "Итоговая сумма до скидки = "+ СуммаВсегоДО + "
														|Итоговая сумма всего после скидки = " + СуммаВсегоПосле + "
														|Скидка составила = " + Скидка;	
Иначе
Текст = "Товар не найден"
	
КонецЕсли;

Сообщение = Новый СообщениеПользователю;
Сообщение.Текст = Текст;
Сообщение.Сообщить();


```

# 1-1-4 
# Удалить товар из заказа
```
// Из заказа поставщику с номером "00000000182" нужно удалить строку с товаром "Электронная книга Amazon Kindle Paperwhite 2021"
// и затем провести документ.
// В результате нужно показать пользователю сообщение вида "Товар <Наименование> удален из заказа".
// Если документа с таким номером нет в базе, нужно сообщить об этом пользователю.


Номер = "00000000182";
Товар = "Электронная книга Amazon Kindle Paperwhite 2021";
ДатаДоговора = '20231001';

ТоварСсылка = Справочники.Номенклатура.НайтиПоНаименованию(Товар, истина);
ЗаказСсылка = Документы.ЗаказПоставщику.НайтиПоНомеру(Номер,ДатаДоговора);

Если НЕ ЗаказСсылка.Пустая() Тогда
		
	ЗаказОбъект = ЗаказСсылка.ПолучитьОбъект();
	
	ПараметрыОтбора = Новый Структура;
	ПараметрыОтбора.Вставить("Номенклатура", ТоварСсылка);
	
	Массив = ЗаказОбъект.Товары.НайтиСтроки(ПараметрыОтбора);
	
	Если Массив.Количество() <> 0 Тогда
		Для Каждого ЭлементМассива Из Массив Цикл
			ЗаказОбъект.Товары.Удалить(ЭлементМассива);
		КонецЦикла;
	Иначе
		Текст = "Товаров нет в заказе";
		
		ЗаказОбъект.Записать();
		
		Текст = СтрШаблон("Товар %1 удален из заказа", Товар);
	КонецЕсли;
	ЗаказОбъект.Записать(РежимЗаписиДокумента.Проведение);
Иначе
	Текст = "Такого заказа не существует";
	
	
КонецЕсли;


Сообщение = Новый СообщениеПользователю;
Сообщение.Текст = Текст;
Сообщение.Сообщить();
```

# 1-1-5
# Отменить проведение документа
```
// Нужно отменить проведение заказа поставщику с номером "00000000195".
// Если документа с таким номером нет в базе, нужно сообщить об этом пользователю.

ДокСсылка = Документы.ЗаказПоставщику.НайтиПоНомеру("00000000195", '20231023');
Если НЕ ДокСсылка.Пустая() Тогда
	ЗаказОбъект = ДокСсылка.ПолучитьОбъект();
	ЗаказОбъект.Записать(РежимЗаписиДокумента.ОтменаПроведения);
	
Иначе
	Текст = "Докумета с таким номером нету в базе";

КонецЕсли;

```
# 1-1-6 
# Провести документы за месяц
```
// Нужно провести документы "Заказ поставщику" за период с 01.10.2023 по 31.10.2023.
// Примечание: документы, которые помечены на удаление, проводить не нужно.

ДатаНачала = '20231001';
ДатаКонца = '20231031';
Выборка = Документы.ЗаказПоставщику.Выбрать(ДатаНачала,ДатаКонца);
Пока Выборка.Следующий() Цикл
	Если НЕ Выборка.ПометкаУдаления Тогда
		ВыборкаОб = Выборка.ПолучитьОбъект();
		ВыборкаОб.Записать(РежимЗаписиДокумента.Проведение);
	КонецЕсли;
	
КонецЦикла;

```
# 1-1-7
# Создать поступление на основании заказа
```
// На основании заказа поставщику с номером "00000000173" нужно создать и заполнить документ "Приходная накладная".
// Созданный документ нужно провести.
// Если заказа поставщику с таким номером нет в базе, нужно сообщить об этом пользователю.

ЗаказСсылка = Документы.ЗаказПоставщику.НайтиПоНомеру("00000000173", '20230901');
Если НЕ ЗаказСсылка.Пустая() Тогда
	
	НакладнаяОбъект = Документы.ПриходнаяНакладная.СоздатьДокумент();
	НакладнаяОбъект.Заполнить(ЗаказСсылка);
	НакладнаяОбъект.Дата = ТекущаяДата();
	
	НакладнаяОбъект.Записать(РежимЗаписиДокумента.Проведение);
	
	Текст = "На основании заказа поставщику создан документ : " + НакладнаяОбъект.Ссылка;
 Иначе
 Текст = "Документ не найден";
КонецЕсли;

Сообщение = Новый СообщениеПользователю;
Сообщение.Текст = Текст;
Сообщение.Сообщить();

```
# 1-1-8 
# Определить сумму заказа
```
// Определите итоговую сумму заказа поставщику с номером "00000000120" и сообщите её пользователю.
// Если заказа поставщику с таким номером нет в базе, нужно сообщить об этом пользователю.

ЗаказССылка = Документы.ЗаказПоставщику.НайтиПоНомеру("00000000120", '20230501');
ИтогСумма = 0;

Если НЕ ЗаказССылка.Пустая() Тогда
	
	ЗаказОбъект = ЗаказССылка.ПолучитьОбъект();
	
	Для Каждого СтрокаТаблицы Из ЗаказОбъект.Товары Цикл
		ИтогСумма = ИтогСумма + СтрокаТаблицы.СуммаВсего;
	КонецЦикла;
	Текст = "Сумма всего заказа = " + ИтогСумма;
	
Иначе
Текст = "Такого заказа нет";		
КонецЕсли;

Сообщение = Новый СообщениеПользователю;
Сообщение.Текст = Текст;
Сообщение.Сообщить();
```
# 1-1-9 
# Добавить товар в заказ поставщику
```
// В заказ поставщику с номером "00000000170" нужно добавить товар:
// "Телевизор Sony Bravia X90K XR-65X90K", кол-во 2 шт., цена 48 000 (цена без НДС)
// После изменения документ нужно провести.
// Сообщите пользователю итоговую сумму заказа и количество строк в табличной части.
// Если заказа поставщику с таким номером нет в базе, нужно сообщить об этом пользователю.

Номер = "00000000170";
Товар = "Телевизор Sony Bravia X90K XR-65X90K";
КолВо = 2;
ЦенаБезНДС = 48000;
Строки = 0;
Итог = 0;

ЗаказСсылка = Документы.ЗаказПоставщику.НайтиПоНомеру(Номер, '20230901');
ТоварСсылка = Справочники.Номенклатура.НайтиПоНаименованию(Товар);
СтавкаНДС = Справочники.СтавкиНДС.НДС20;

Если НЕ ЗаказСсылка.Пустая() Тогда 
	ЗаказОбъект = ЗаказСсылка.ПолучитьОбъект();
	
	СтрокаТаблицы = ЗаказОбъект.Товары.Добавить();
	СтрокаТаблицы.Номенклатура = ТоварСсылка;
	СтрокаТаблицы.Количество = КолВо;
	СтрокаТаблицы.Цена = ЦенаБезНДС;
	СтрокаТаблицы.Сумма = КолВо * ЦенаБезНДС;
	СтрокаТаблицы.СтавкаНДС = Справочники.СтавкиНДС.НДС20;
	СтрокаТаблицы.СуммаНДС = СтрокаТаблицы.Сумма * СтавкаНДС.Ставка / 100;
	СтрокаТаблицы.СуммаВсего = СтрокаТаблицы.Сумма + СтрокаТаблицы.СуммаНДС;
	ЗаказОбъект.Записать(РежимЗаписиДокумента.Проведение);

	Для Каждого СтрТаблицы Из ЗаказОбъект.Товары Цикл
		Строки = Строки + 1;
		Итог = Итог + СтрТаблицы.СуммаВсего;
	КонецЦикла;
 Текст = "Итоговая сумма заказа = " + Итог + "
 											|Количество строк в табличной части = " + Строки;


	Иначе
Текст = "Такого заказа не существует";									 
											 										 
КонецЕсли;

Сообщение = Новый СообщениеПользователю;
Сообщение.Текст = Текст;
Сообщение.Сообщить();

```
# 1-1-10 
# Пометить на удаление непроведенные
```
// Нужно пометить на удаление все непроведенные заказы поставщику за период с 01.08.2023 по 31.08.2023.
// Сообщить пользователю информацию о помеченных на удаление документах.
// Если ни один документ не помечен на удаление, нужно показать сообщение "В заданном периоде не найдено документов, подлежащих удалению".

ДатаНачала = '20230108';
ДатаКонца = '20230831';
КолВо = 0;

Выборка = Документы.ЗаказПоставщику.Выбрать(ДатаНачала,ДатаКонца);

Пока Выборка.Следующий() Цикл
	Заказ = Выборка.ПолучитьОбъект();
	Если НЕ Заказ.Проведен Тогда
		Заказ.УстановитьПометкуУдаления(истина);
		КолВо = КолВо + 1;
	КонецЕсли;
	
КонецЦикла;

Если НЕ КолВо = 0 Тогда
	Текст = "Документы помечены на удаление";
Иначе
	Текст = "В заданном периоде не найдено документов, подлежащих удалению";
КонецЕсли;
	
Сообщение = Новый СообщениеПользователю;
Сообщение.Текст = Текст;
Сообщение.Сообщить();
```

# 1-2
# Работа с ПВХ

# 1-2-1
# Заполнить доп. реквизит номенклатуры
```
// Для номенклатуры "Электронная книга PocketBook 617" (артикул "pocketbook617wh") нужно заполнить дополнительные реквизиты:
// "Цвет" - <Черный>
// "Дата выхода на рынок" - 01.01.2022
// Если номенклатуры с таким наименованием нет в справочнике, нужно сообщить пользователю об этом.

НоменклатураССылка = Справочники.Номенклатура.НайтиПоРеквизиту ("Артикул", "pocketbook617wh");
Если НЕ НоменклатураССылка.Пустая() Тогда
	
	НоменклатураОбъект = НоменклатураСсылка.ПолучитьОбъект();
	ЕстьИзменения = Ложь;
	ГруппаСвойств = ПланыВидовХарактеристик.ДополнительныеРеквизиты.Справочник_Номенклатура;
	
	СвойсвтоЦвет = ПланыВидовХарактеристик.ДополнительныеРеквизиты.НайтиПоНаименованию("Цвет", Истина, ГруппаСвойств);
	
	Если НЕ СвойсвтоЦвет.Пустая() Тогда
		
		ЗначениеЦветаСыылка = Справочники.ЗначенияДополнительныхРеквизитов.НайтиПоНаименованию("Черный", Истина,, СвойсвтоЦвет);
		Если НЕ ЗначениеЦветаСыылка.Пустая() Тогда
			
			СтрокаТаблицы = НоменклатураОбъект.ДополнительныеРеквизиты.Найти(СвойсвтоЦвет, "ДополнительныйРеквизит");
			
			Если СтрокаТаблицы = Неопределено Тогда
				СтрокаТаблицы = НоменклатураОбъект.ДополнительныеРеквизиты.Добавить();
				СтрокаТаблицы.ДополнительныйРеквизит = СвойсвтоЦвет;
			КонецЕсли;
			СтрокаТаблицы.Значение = ЗначениеЦветаСыылка;
			
			ЕстьИзменения = Истина;
			
		Иначе
			Текст = "Не найдено значение ""Черный"" свойства ""Цвет""";
		КонецЕсли;
	Иначе
		Текст = "Не найдено свойство номенклатуры ""Цвет""";
	КонецЕсли;
	
	СвойствоДатаВыхода = ПланыВидовХарактеристик.ДополнительныеРеквизиты.НайтиПоНаименованию("Дата выхода на рынок", Истина, ГруппаСвойств);
	Если Не СвойствоДатаВыхода.Пустая() Тогда
		
		
		СтрокаТаблицы = НоменклатураОбъект.ДополнительныеРеквизиты.Найти(СвойствоДатаВыхода, "ДополнительныйРеквизит");
		
		Если СтрокаТаблицы = Неопределено Тогда
			СтрокаТаблицы = НоменклатураОбъект.ДополнительныеРеквизиты.Добавить();
			СтрокаТаблицы.ДополнительныйРеквизит = СвойствоДатаВыхода;
		КонецЕсли;
		
		СтрокаТаблицы.Значение = '20220101';
		
		ЕстьИзменения = Истина;
		
	Иначе
		Текст = "Не найдено свойство номенклатуры ""Дата выхода на рынок""";
	КонецЕсли;
	
	Если ЕстьИзменения Тогда 
		НоменклатураОбъект.Записать();
		Текст = "Свойство номенклатуры успешно заполнены"
	КонецЕсли;
	
Иначе
	Текст = "Номенклатура не найдена";
КонецЕсли;

Сообщение = Новый СообщениеПользователю;
Сообщение.Текст = Текст;
Сообщение.Сообщить();



```

# 1-2-2
# Получить значение доп. реквизита
```

// Для номенклатуры "Смартфон Google Pixel 8 Pro 12GB/128GB" (артикул "pixel8pro12128ba")
// нужно получить значение дополнительного реквизита "Цвет" и сообщить его пользователю.
// Если номенклатуры с таким наименованием нет в справочнике, нужно сообщить пользователю об этом.

ТоварСсылка = Справочники.Номенклатура.НайтиПоРеквизиту("Артикул", "pixel8pro12128ba");

Если НЕ ТоварСсылка.Пустая() Тогда
	ТоварОбъект = ТоварСсылка.ПолучитьОбъект();
	
	ГруппаСвойств = ПланыВидовХарактеристик.ДополнительныеРеквизиты.Справочник_Номенклатура;
	
	СвойсвтоЦвет = ПланыВидовХарактеристик.ДополнительныеРеквизиты.НайтиПоНаименованию("Цвет", Истина, ГруппаСвойств);
	Если НЕ СвойсвтоЦвет.Пустая() Тогда
		
		СтрокаТаблицы = ТоварОбъект.ДополнительныеРеквизиты.Найти(СвойсвтоЦвет, "ДополнительныйРеквизит");
		
		Если НЕ СтрокаТаблицы = Неопределено Тогда
			
			ЗначениеЦвета = СтрокаТаблицы.Значение;
			Текст = ЗначениеЦвета;
				
		Иначе
			Текст = "Такого свойства нет";
		КонецЕсли;
		
	КонецЕсли;
Иначе
	
	Текст = "Не найдено свойство номенклатуры ""Цвет""";
КонецЕсли;

Сообщение = Новый СообщениеПользователю;
Сообщение.Текст = Текст;
Сообщение.Сообщить();
```


# 1-2-3
 # Все доп. реквизиты номенклатуры

 ```
 // Нужно показать в виде сообщения значения дополнительных реквизитов номенклатуры
// "Электронная книга PocketBook 617" (артикул "pocketbook617wh") в формате:
// "<Имя доп. реквизита>: <Значение>"
// Пример:
// "Цвет: красный
//	Дата выхода на рынок: 01.01.2022"

СсылкаТовар = Справочники.Номенклатура.НайтиПоРеквизиту("Артикул", "pocketbook617wh");
Если НЕ СсылкаТовар.Пустая() Тогда
	
	
	ТоварОбъект = СсылкаТовар.ПолучитьОбъект();
	
	Для Каждого СтрокаТаблицы Из ТоварОбъект.ДополнительныеРеквизиты Цикл 
		
		Сообщение = Новый СообщениеПользователю;
		Сообщение.Текст = Строка(СтрокаТаблицы.ДополнительныйРеквизит) + " : " +  СтрокаТаблицы.Значение;
		Сообщение.Сообщить();
	КонецЦикла;

Иначе
	Сообщение = Новый СообщениеПользователю;
	Сообщение.Текст = "Товар не найден";
	Сообщение.Сообщить();
КонецЕсли;

 ```